<html>
    <head></head>
    <body>
        <div>
            <input id="title" type="text" placeholder="title">
            <br></br>
            <input id="description" type="text" placeholder="description">
            <br></br>
            <button onclick="addTodo()">Add todo</button>

            <div id="todos"></div>
        </div>
        

        <script>
            // function addTodo() {
            //     const title = document.getElementById("title").value;
            //     const description = document.getElementById("description").value;
            //     let orignalHtml = document.getElementById("container").innerHTML;
            //     // document.createElement
            
            //     // 1  way - but this is a very ugly way
            //     document.getElementById("container").innerHTML = orignalHtml + 
            
            //     `   <div>
            //             <div>${title}</div>
            //             <div>${description}</div>
            //             <button>Mark as done</button>
            //         </div>
            //     `
            // }

            let globalId = 1;

            // function markAsDone(todoId) {
            //     const parent = document.getElementById(todoId);
            //     parent.children[2].innerHTML = "Done!"
            // }

            function createChild(title, description, id) {
                const child = document.createElement("div");
                const firstGrandElement = document.createElement("div");
                firstGrandElement.innerHTML = title;
                const secondGrandElement = document.createElement("div");
                secondGrandElement.innerHTML = description;
                const thirdGrandElement = document.createElement("button");
                thirdGrandElement.innerHTML = "Mark as done";
                thirdGrandElement.setAttribute("onclick", `markAsDone(${id})`);
                child.appendChild(firstGrandElement);
                child.appendChild(secondGrandElement);
                child.appendChild(thirdGrandElement);
                child.setAttribute("id", id);
                return child;
            }

            function updateAccToState(state) {
                const parent = document.getElementById("comtainer");
                parent.innerHTML = "";
                for (let i = 0 ; i < state.length; i++) {
                    const child = createChild(state[i].title, state[i].description, state[i].id);
                    parent.appendChild(child);
                }
            }


            updateAccToState();
               
            
        </script>
    </body>
</html>